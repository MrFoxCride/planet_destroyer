# Planet Destroyer – Economy and Monetization

## Currencies

### 1. Cosmic Dust (Soft Currency)
- Основной ресурс
- Получается:
  - Немедленно после разрушения планеты
  - Через добычу юнитами (по таймеру)
  - Из колеса фортуны
- Используется:
  - Крафт оружия
  - Улучшения (апгрейды)
  - Потенциально — отправка юнитов (если будет cost)

### 2. Magmaton (Hard Currency)
- Хард-валюта
- Получается:
  - Из колеса фортуны
  - Через покупки (Telegram IAP)
- Используется:
  - Мгновенное завершение крафта
  - Мгновенный сбор ресурсов с юнитов
  - Пропуск таймера нового планета-слота
  - Потенциально: VIP-бонусы или бусты

---

## Weapon Crafting (Dust → Weapons)

- Игрок тратит Cosmic Dust, чтобы крафтить оружие
- Каждое оружие:
  - имеет фиксированную стоимость Dust
  - крафтится определённое время
  - даёт определённый урон
- Можно крафтить в очередь (лимит слотов)
- Оружие тратится 1:1 при атаке
- Возможен ускоритель за Magmaton (`Finish Now`)

---

## Upgrades (Permanent)

- Покупаются за Dust
- Применяются глобально
- Примеры:
  - +X% к урону
  - -X% к времени добычи
  - +X% к награде
  - -X% к времени поиска планеты
- Уровневая система (x1, x5, MAX)
- Стоимость по экспоненте или гибридной кривой

---

## Unit Dispatch (Idle Layer)

- После разрушения планеты игрок может отправить юниты (Robot, Ship, Station, UFO)
- Каждому юниту присущ:
  - таймер (длительность миссии)
  - множитель награды
  - лимит миссий (до 8 одновременно)
- Завершённая миссия → кнопка `Collect` → Dust на счёт
- Можно ускорить за Magmaton

---

## Fortune Wheel (Rewarded Ads)

- 1 просмотр рекламы = 1 вращение
- Возможные награды:
  - +Dust (фиксированные диапазоны)
  - +Magmaton
  - Временные бусты:
    - x2 Damage (5 мин)
    - -50% Craft Time (10 мин)
    - +50% Resource Yield (15 мин)
- Вращение возможно, только если есть доступная реклама
- Кол-во вращений может быть ограничено в день (например, 5/day)

---

## Monetization Summary

| Механика        | Вид валюты | Как тратится                     | Как получается                    |
|------------------|-------------|----------------------------------|------------------------------------|
| Craft Weapons     | Dust         | Cost per weapon                 | Destroy planets / Dispatch / Ads  |
| Speed Crafting    | Magmaton     | `Finish Now`                    | IAP / Fortune Wheel                |
| Upgrades          | Dust         | Increasing per level            | Сбор ресурса                       |
| Speed Harvest     | Magmaton     | Завершить миссию instantly      | IAP / Fortune Wheel                |
| Skip Planet Timer | Magmaton     | Открытие следующего слота       | IAP / Fortune Wheel                |
| Wheel Spins       | —            | Просмотр рекламы                | 1 spin = 1 ad view                 |
| Magmaton Packs    | —            | Покупка за деньги (TMA IAP)     | Telegram Pay API                   |

---

## Ad Integration

- Все rewarded действия должны быть обёрнуты в SDK-хук
- На тесте — возможно заглушка `setTimeout` + `alert("ad watched")`
- В Codex-файлах **реальные IAP/ads-запросы не реализуются**, но точки входа обязаны быть